# ========================================
# Kubernetes Secrets for Dapr Components
# ========================================
# This file contains templates for secrets used by Dapr components.
# Fill in the base64-encoded values and apply to your cluster.
#
# To base64 encode a value:
#   Linux/Mac: echo -n "your-value" | base64
#   Windows: [Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes("your-value"))
#
# ========================================

---
# ========================================
# Redpanda Cloud Credentials
# ========================================
apiVersion: v1
kind: Secret
metadata:
  name: redpanda-credentials
  namespace: default
  labels:
    app: todo-app
    component: messaging
type: Opaque
data:
  # Redpanda Cloud bootstrap servers
  # Example: todo-app-abc123.us-east-1.aws.redpanda.cloud:9092
  brokers: <BASE64_ENCODED_BOOTSTRAP_SERVERS>

  # SASL username (e.g., "todo-app-producer")
  sasl-username: <BASE64_ENCODED_SASL_USERNAME>

  # SASL password (the generated password from Redpanda Cloud)
  sasl-password: <BASE64_ENCODED_SASL_PASSWORD>

---
# ========================================
# DigitalOcean Managed Redis Credentials
# ========================================
apiVersion: v1
kind: Secret
metadata:
  name: redis-credentials
  namespace: default
  labels:
    app: todo-app
    component: state
type: Opaque
data:
  # Redis host with TLS port
  # Example: todo-app-redis-do-user-XXXXX-0.b.db.ondigitalocean.com:25061
  redis-host: <BASE64_ENCODED_REDIS_HOST_WITH_PORT>

  # Redis password (from DigitalOcean Managed Redis dashboard)
  redis-password: <BASE64_ENCODED_REDIS_PASSWORD>

---
# ========================================
# Application Secrets
# ========================================
apiVersion: v1
kind: Secret
metadata:
  name: app-secrets
  namespace: default
  labels:
    app: todo-app
    component: application
type: Opaque
data:
  # OpenAI API key for AI chatbot
  openai-api-key: <BASE64_ENCODED_OPENAI_API_KEY>

  # Better Auth secret (JWT signing key)
  better-auth-secret: <BASE64_ENCODED_BETTER_AUTH_SECRET>

  # Neon Database connection string (if not already in existing secrets)
  # database-url: <BASE64_ENCODED_DATABASE_URL>
